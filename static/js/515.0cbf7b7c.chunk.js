"use strict";(self.webpackChunktravel=self.webpackChunktravel||[]).push([[515],{1515:function(t,s,e){e.r(s),e.d(s,{default:function(){return D}});var n=e(1413),i=e(5671),r=e(3144),a=e(136),u=e(516),o=e(2791),l="Profile_profile__aV1X0",c=e(5987),d=e(9678),f={info:"ProfileInfo_info__QntLp",info__image:"ProfileInfo_info__image__KxeSo",bg__img:"ProfileInfo_bg__img__Kn+qU",ava:"ProfileInfo_ava__Xqbam"},p=e(9439),h=e(184),m=["updateStatusThunkC"],v=function(t){var s=t.updateStatusThunkC,e=(0,c.Z)(t,m),n=(0,o.useState)(!1),i=(0,p.Z)(n,2),r=i[0],a=i[1],u=(0,o.useState)(e.status),l=(0,p.Z)(u,2),d=l[0],f=l[1];(0,o.useEffect)((function(){f(e.status)}),[e.status]);return(0,h.jsxs)("div",{children:[!r&&(0,h.jsx)("div",{onDoubleClick:function(){return a(!0)},children:(0,h.jsx)("span",{children:e.status||"no Status"})}),r&&(0,h.jsx)("div",{children:(0,h.jsx)("input",{onChange:function(t){return f(t.target.value)},autoFocus:!0,onBlur:function(){a(!1),s(d)},type:"text",value:d})})]})},x=["profile","status"];var j=function(t){var s=t.profile,e=t.status,n=(0,c.Z)(t,x);return s?(0,h.jsxs)("div",{className:f.info,children:[(0,h.jsxs)("div",{children:[" NickName: ",s.fullName]}),(0,h.jsxs)("div",{className:f.info__image,children:[" ",(0,h.jsx)("img",{className:f.bg__img,src:s.photos.small,alt:"Background Img"})]}),(0,h.jsxs)("div",{className:f.item,children:[" ",(0,h.jsx)("img",{className:f.ava,src:s.photos.large,alt:"Ava"})]}),(0,h.jsxs)("div",{children:["\u041e\u0431\u043e \u043c\u043d\u0435: ",s.aboutMe]}),(0,h.jsx)(v,{status:e,updateStatusThunkC:n.updateStatusThunkC}),(0,h.jsxs)("div",{children:["\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b:",(0,h.jsxs)("ul",{children:[(0,h.jsxs)("li",{children:["\u0412\u043a ",s.contacts.vk]}),(0,h.jsxs)("li",{children:["\u0418\u043d\u0441\u0442\u0430 ",s.contacts.instagram]}),(0,h.jsxs)("li",{children:["\u0422\u0432\u0438\u0442\u0435\u0440 ",s.contacts.twitter," "]})]})]})]}):(0,h.jsx)(d.Z,{})},g=e(6508),_=e(3531),k={},P={};var C=function(t){return(0,h.jsxs)("div",{className:P.mypost,children:[(0,h.jsx)("div",{className:P.item,children:t.message}),(0,h.jsx)("div",{className:P.item,children:t.likes})]})},S=e(1134),T=["post"],Z=o.memo((function(t){var s=t.post,e=(0,c.Z)(t,T),i=s.myPostItem.map((function(t,s){return(0,h.jsx)(C,{message:t.message,likes:t.likes},s+t)}));return(0,h.jsxs)("div",{className:k.post,children:[(0,h.jsx)(N,(0,n.Z)({},e)),(0,h.jsx)("div",{className:k.itemPost,children:i})]})})),N=function(t){var s,e=(0,S.cI)({mode:"onBlur"}),i=e.register,r=e.formState,a=r.errors,u=r.isValid,o=e.handleSubmit,l=e.reset;return(0,h.jsxs)("form",{onSubmit:o((function(s){t.addPost(s.newPostText),l()})),children:[(0,h.jsx)("div",{children:(0,h.jsx)("input",(0,n.Z)({type:"text"},i("newPostText",{minLength:{value:1,message:"\u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u043e 1 \u0441\u0438\u043c\u0432\u043e\u043b"},maxLength:{value:15,message:"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e 15 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"}})))}),(null===a||void 0===a?void 0:a.newPostText)&&(0,h.jsxs)("p",{children:[(null===a||void 0===a||null===(s=a.newPostText)||void 0===s?void 0:s.message)||"Erorr"," "]}),(0,h.jsx)("input",{type:"submit",disabled:!u})]})},b=Z,I=(0,_.$j)((function(t){return{post:t.postPage}}),(function(t){return{addPost:function(s){t((0,g.Wl)(s))}}}))(b);var y=function(t){return t.profile?(0,h.jsxs)("div",{className:l,children:[(0,h.jsx)(j,(0,n.Z)({},t)),(0,h.jsx)(I,{})]}):(0,h.jsx)(d.Z,{})},w=e(7689),U=e(7781),q=function(t){return t.postPage.profile},A=function(t){return t.postPage.status},B=function(t){return t.auth.userId},K=function(t){return t.auth.isAuth},L=function(t){(0,a.Z)(e,t);var s=(0,u.Z)(e);function e(){return(0,i.Z)(this,e),s.apply(this,arguments)}return(0,r.Z)(e,[{key:"componentDidMount",value:function(){var t=this.props.router.params.userId;t||(t=this.props.loginnedUserId)||this.props.router.navigate("/login"),this.props.getUsersProfileThunkC(t),this.props.getStatusThunkC(t)}},{key:"render",value:function(){return(0,h.jsx)(y,{status:this.props.status,profile:this.props.profile,updateStatusThunkC:this.props.updateStatusThunkC})}}]),e}(o.Component);var D=(0,U.qC)((0,_.$j)((function(t){return{profile:q(t),status:A(t),loginnedUserId:B(t),isAuth:K(t)}}),{getUsersProfileThunkC:g.Uo,getStatusThunkC:g.Ny,updateStatusThunkC:g.Kb}),(function(t){return function(s){var e=(0,w.TH)(),i=(0,w.s0)(),r=(0,w.UO)();return(0,h.jsx)(t,(0,n.Z)((0,n.Z)({},s),{},{router:{location:e,navigate:i,params:r}}))}}))(L)}}]);
//# sourceMappingURL=515.0cbf7b7c.chunk.js.map